{"version":3,"sources":["../../src/lib/settleAll.js"],"names":["settleAll","items","fn","err","Promise","all","map","i","error"],"mappings":";;;;;;;AAAA;AACO,MAAMA,SAAS,GAAG,OAAOC,KAAP,EAAcC,EAAd,KAAqB;AAC7C,MAAIC,GAAJ;AACA,QAAMC,OAAO,CAACC,GAAR,CACLJ,KAAK,CAACK,GAAN,CAAU,MAAMC,CAAN,IAAW;AACpB,QAAI;AACH,YAAML,EAAE,CAACK,CAAD,CAAR;AACA,KAFD,CAEE,OAAOC,KAAP,EAAc;AACf;AACAL,MAAAA,GAAG,GAAGK,KAAN;AACA;AACD,GAPD,CADK,CAAN;AAUA,MAAIL,GAAJ,EAAS,MAAMA,GAAN;AACT,CAbM","sourcesContent":["// Only throw after all items are processed\nexport const settleAll = async (items, fn) => {\n\tlet err\n\tawait Promise.all(\n\t\titems.map(async i => {\n\t\t\ttry {\n\t\t\t\tawait fn(i)\n\t\t\t} catch (error) {\n\t\t\t\t// last one wins\n\t\t\t\terr = error\n\t\t\t}\n\t\t})\n\t)\n\tif (err) throw err\n}\n"],"file":"settleAll.js"}